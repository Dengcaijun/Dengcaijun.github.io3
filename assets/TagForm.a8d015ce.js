import{bE as f,bR as y,bx as d,bS as x,bt as k,bF as t,bU as l}from"./vendor.f2e53ff1.js";import{h as m,F as i,a as B,b as E,v as h,c as v}from"./index.7e39d51c.js";const A=(s,c)=>{var n;throw((n=s.response)==null?void 0:n.status)===422&&c(s.response.data),s},S="_tips_1a66x_1",T="_actions_1a66x_6",V="_removeTagsAndItems_1a66x_11",j="_button_1a66x_15",g={tips:S,actions:T,removeTagsAndItems:V,button:j},I=f({props:{id:Number},setup:(s,c)=>{const n=y(),e=d({id:void 0,name:"",sign:"",kind:n.query.kind.toString()}),a=d({}),p=x(),b=async o=>{o.preventDefault();const u=[{key:"name",type:"required",message:"\u5FC5\u586B"},{key:"name",type:"pattern",regex:/^.{1,4}$/,message:"\u53EA\u80FD\u586B 1 \u5230 4 \u4E2A\u5B57\u7B26"},{key:"sign",type:"required",message:"\u5FC5\u586B"}];Object.assign(a,{name:[],sign:[]}),Object.assign(a,h(e,u)),v(a)||(await(await e.id?m.patch(`/tags/${e.id}`,e,{_mock:"tagEdit",_autoLoading:!0}):m.post("/tags",e,{_mock:"tagCreate",_autoLoading:!0})).catch(_=>A(_,F=>Object.assign(a,F.errors))),p.back())};return k(async()=>{if(!s.id)return;const o=await m.get(`/tags/${s.id}`,{},{_mock:"tagShow"});Object.assign(e,o.data.resource)}),()=>t(E,{onSubmit:b},{default:()=>{var o,u;return[t(i,{label:"\u6807\u7B7E\u540D\uFF08\u6700\u591A 4 \u4E2A\u5B57\u7B26\uFF09",type:"text",modelValue:e.name,"onUpdate:modelValue":r=>e.name=r,error:(o=a.name)==null?void 0:o[0]},null),t(i,{label:"\u7B26\u53F7 "+e.sign,type:"emojiSelect",modelValue:e.sign,"onUpdate:modelValue":r=>e.sign=r,error:(u=a.sign)==null?void 0:u[0]},null),t(i,null,{default:()=>[t("p",{class:g.tips},[l("\u8BB0\u8D26\u65F6\u957F\u6309\u6807\u7B7E\u5373\u53EF\u8FDB\u884C\u7F16\u8F91")])]}),t(i,null,{default:()=>[t(B,{type:"submit",class:[g.button]},{default:()=>[l("\u786E\u5B9A")]})]})]}})}});export{I as T,g as s};
